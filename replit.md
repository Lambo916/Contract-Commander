# Overview

Contract Commander is an AI-powered legal contract drafting tool that generates professional, print-ready contracts (NDAs, Service Agreements, Employment Agreements, MOUs, Partnership Agreements) using OpenAI GPT-4o. The application features a gold/dark/white theme and produces clean legal documents with proper structure, formatting, and signature blocks. Users can export contracts as PDF or Word documents. The business vision is to provide a robust, AI-driven solution for common legal document needs, targeting individuals and small to medium-sized businesses.

# User Preferences

Preferred communication style: Simple, everyday language.

# Recent Changes (November 2025)

## Production Polish v1.3 - White-Label Mode Implementation
- **Complete Branding Removal**: PDFs now export without visible YourBizGuru branding
  - Removed all "Generated by Contract Commander" headers
  - Removed "Page X of Y" and "YourBizGuru.com" footers from pages 1..N-1
  - Clean, professional output suitable for client-facing deliverables
- **Minimalist Footer (Last Page Only)**: Clean disclaimer-only footer
  - Light divider line (#e0e0e0) above footer
  - Centered disclaimer text in 9pt gray (#777777)
  - No copyright notice or company branding visible
  - Text: "Disclaimer: This document is generated automatically for informational and drafting purposes only and does not constitute legal, tax, or financial advice. No attorney-client relationship is created."
- **Hidden Metadata Attribution**: Maintains ownership tracking without user visibility
  - Author: "YourBizGuru LLC"
  - Creator: "Contract Commander | YourBizGuru.com"
  - Subject: "Generated by Contract Commander"
  - Embedded in PDF properties for traceability and compliance

## Production Polish v1.2 - Final Typography & Signature Block Refinements
- **Inter Font Implementation**: Upgraded from system fonts to Google Fonts Inter
  - Added preconnect links for optimal font loading performance
  - Updated body font-family to prioritize Inter with system fallbacks
  - Ensures consistent, professional typography across all devices
- **Signature Block Optimization**: Compact, professional 3-line format per signer
  - Party name on first line
  - Signature line and Date on same line (instead of separate lines)
  - Name and Title combined on third line
  - Moderate spacing between signers for visual separation
  - Reduced from 4-5 lines to 3 lines per signature block
- **Contract Structure Improvements**: Enhanced readability and legal document standards
  - Line height: 1.4-1.5em for optimal readability
  - Body text: 11-12pt professional legal standard
  - Section headings: 14-16pt bold for clear hierarchy
  - Consistent spacing throughout document sections

## Production Polish v1.1 - Footer Cleanup & Professional PDF Margins
- **Duplicate Footer Fix**: Removed duplicate footer injection from pdf-export.js
  - Disabled automatic footer mounting code that was creating a second footer
  - Single clean 2-line footer now appears only once at bottom of page
  - Eliminated redundancy and improved page layout
- **Professional PDF Margins**: Upgraded to standard legal document margins
  - All margins increased to 72pt (1 inch) on all sides (top, right, bottom, left)
  - Header repositioned to 50pt from top to respect new margins
  - Footer repositioned to 50pt from bottom with proper spacing
- **PDF Content Spacing Improvements**: Enhanced readability and prevented overlap
  - Increased line spacing from 14pt to 15pt for better readability
  - Increased paragraph spacing from 6pt to 10pt for clearer section separation
  - Bottom margin check increased from 60pt to 150pt to prevent footer overlap
  - Last page legal footer moved from 70pt to 120pt from bottom for better spacing
  - Legal notice line spacing increased from 11pt to 13pt for improved readability
- **Enhanced PDF Layout**: Professional document structure
  - Content starts 35pt below top margin (after header space)
  - Title and metadata sections have increased spacing (20pt, 16pt, 20pt)
  - New pages start 20pt below header for consistent flow
  - No content overlaps with footers on any page

## Production Polish v1.0 - App Footer & PDF Export System
- **App Footer Redesign**: Implemented clean 2-line footer structure across all screens
  - Line 1: "Powered by YourBizGuru.com • Privacy Policy • Terms of Service" (12.5px)
  - Line 2: Full legal disclaimer in plain language (11.5px, 60% gray, centered, max-width 800px)
  - Mobile responsive with center alignment
  - Footer links open in new tab with proper rel="noopener" attribute
- **PDF Export System Overhaul**: Professional document output with minimal branding
  - Header (every page): Contract type (left, 10pt) + "Generated by Contract Commander" (right, 10pt)
  - Footer pages 1..N-1: "Page X of Y" (left) + "YourBizGuru.com" (right)
  - Footer last page only: Divider line + copyright (auto-year) + full legal notice (multi-line, 9pt)
  - Removed all mid-page banners, duplicate disclaimers, and repeating legal text
  - Removed watermark for clean professional appearance
- **PDF Metadata Updates**: Professional document properties
  - Title: "{ContractType} — {Title} — {YYYY-MM-DD}"
  - Author: "YourBizGuru LLC"
  - Subject: "Generated by Contract Commander"
  - Keywords: "Contract Commander, YourBizGuru, AI Document Generator, Legal Contract"
- **Filename Pattern**: Standardized naming convention
  - Format: "{YYYY}-{MM}-{DD}_ContractCommander_{ContractType}_{Counterparty}.pdf"
  - Example: "2025-11-08_ContractCommander_Service_Agreement_Acme_Corp.pdf"

# System Architecture

## Frontend Architecture
- **Technology Stack**: Vanilla HTML, CSS, and JavaScript.
- **UI/UX Decisions**: Gold/dark/white color scheme (#F5C543, #111111, #FFFFFF, #C9C9D1). Two-panel layout (40% input form, 60% contract preview on desktop, stacked on mobile). Montserrat for headings, Open Sans for body text.
- **Design System**: Modular CSS variables for branding.
- **Feature Specifications**: Responsive design, consistent form field heights (48px for inputs/selects, 120px for textareas), logical form sections (Contract Setup, Parties, Contract Terms, Legal Options, Signatures), professional PDF and Word export with standardized naming conventions and legal document margins (72pt/1 inch), clean 2-line footer.
- **Technical Implementations**: Word export uses a modal-based download workaround for browser security. Keyboard shortcuts include Ctrl+Enter for generation, Ctrl+S to save, Ctrl+N for new contract.

## Backend Architecture
- **Development Environment**: Express.js server for local development.
- **Production Deployment**: Vercel serverless functions.
- **API Design**: RESTful endpoints with CORS headers.
- **Error Handling**: Input validation and structured error responses.

## Database and Storage
- **Database**: Supabase PostgreSQL.
- **ORM**: Drizzle ORM with PostgreSQL dialect.
- **Schema Management**: Drizzle-kit for migrations.
- **Report Persistence**: `compliance_reports` and `bizplan_reports` tables store generated reports including HTML content, metadata, and timestamps.
- **Local Storage**: Browser localStorage for caching current working reports.
- **Environment Variables**: `pickEnv` helper for compatibility across Vite, Next.js, and Express.

## AI Integration
- **Provider**: OpenAI GPT-4o for content generation.
- **Super Smart AI Mode**: Dynamically handles state-specific legal information.
- **Hybrid Architecture**: Prioritizes pre-built filing profiles, falls back to AI.
- **Content Processing**: Structured 6-section JSON output (summary, checklist, timeline, riskMatrix, recommendations, references).

# External Dependencies

## Third-Party Services
- **OpenAI API**: GPT-4o model.
- **Vercel Platform**: Production deployment and serverless functions.
- **Supabase**: PostgreSQL database, authentication, and real-time capabilities.

## Development Tools
- **Package Management**: npm.
- **Build Tools**: Vite.
- **Language**: TypeScript.

## Deployment Infrastructure
- **DNS**: GoDaddy.
- **CDN**: Vercel's edge network.